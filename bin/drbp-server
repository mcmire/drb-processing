#!/usr/bin/env ruby

ROOT = File.expand_path(File.dirname(__FILE__) + "/..")
LIB = File.join(ROOT, "lib")
$:.unshift(LIB) unless $:.include?(LIB)
$:.unshift("#{ROOT}/vendor/drbfire/lib")

require 'drb-processing/server'
require 'logger'

address = ARGV.shift
port = ARGV.shift

server = DRbProcessing::Server.new address, port
server.logger = Logger.new(STDOUT)
server.start
DRb.thread.join